<!DOCTYPE html>
<html lang="ko">
<head>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8846557285079359" crossorigin="anonymous"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n-title="tools.mergePdf.title">PDF 병합 - Toolneat</title>
  <meta name="description" data-i18n-desc="tools.mergePdf.description" content="여러 PDF 파일을 하나로 합치는 무료 온라인 도구입니다. 파일 순서 변경, 드래그 앤 드롭 지원. 모든 처리는 브라우저에서 이루어져 개인정보가 안전합니다.">
  <link rel="canonical" href="https://toolneat.com/tools/pdf/merge-pdf/">
  <link rel="alternate" hreflang="ko" href="https://toolneat.com/tools/pdf/merge-pdf/">
  <link rel="alternate" hreflang="en" href="https://toolneat.com/en/tools/pdf/merge-pdf/">
  <link rel="alternate" hreflang="x-default" href="https://toolneat.com/tools/pdf/merge-pdf/">
  <link rel="icon" href="/favicon.ico" sizes="48x48">
  <link rel="icon" type="image/svg+xml" href="/assets/icons/favicon.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="stylesheet" href="../../../assets/css/output.css">
  <script src="../../../assets/js/common.js"></script>
  <script src="../../../assets/js/i18n.js"></script>
  <script src="../../../assets/js/components.js"></script>
  <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Toolneat">
  <meta property="og:title" content="PDF 병합 - Toolneat">
  <meta property="og:description" content="여러 PDF 파일을 하나로 합치는 무료 온라인 도구입니다.">
  <meta property="og:url" content="https://toolneat.com/tools/pdf/merge-pdf">
  <meta property="og:image" content="https://toolneat.com/assets/images/og-image.png">
  <meta property="og:locale" content="ko_KR">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "PDF 병합",
    "description": "여러 PDF 파일을 하나로 합치는 무료 온라인 도구입니다. 파일 순서 변경, 드래그 앤 드롭 지원. 모든 처리는 브라우저에서 이루어져 개인정보가 안전합니다.",
    "url": "https://toolneat.com/tools/pdf/merge-pdf",
    "applicationCategory": "UtilitiesApplication",
    "operatingSystem": "Any",
    "browserRequirements": "Requires JavaScript",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "KRW"
    },
    "author": {
      "@type": "Organization",
      "name": "Toolneat",
      "url": "https://toolneat.com"
    }
  }
  </script>
  <style>
    .file-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 16px;
      background: #f9fafb;
      border-radius: 12px;
      cursor: grab;
    }
    .dark .file-item { background: #374151; }
    .file-item:active { cursor: grabbing; }
    .file-item.dragging { opacity: 0.5; }
    .file-item.drag-over { border: 2px dashed #3b82f6; }
    .drop-zone {
      border: 2px dashed #d1d5db;
      border-radius: 16px;
      padding: 48px 24px;
      text-align: center;
      transition: all 0.2s;
    }
    .dark .drop-zone { border-color: #4b5563; }
    .drop-zone.drag-over {
      border-color: #3b82f6;
      background: #eff6ff;
    }
    .dark .drop-zone.drag-over { background: #1e3a5f; }
    .loading-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 100;
    }
    .loading-overlay.show {
      display: flex;
    }
    .spinner {
      width: 48px;
      height: 48px;
      border: 4px solid #e5e7eb;
      border-top-color: #3b82f6;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <div id="header"></div>
  <main class="flex-1 py-8 md:py-12">
    <div class="container-main">
      <div class="mb-6">
        <h1 class="text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mb-2" data-i18n="tools.mergePdf.title">PDF 병합</h1>
        <p class="text-gray-600 dark:text-gray-400" data-i18n="tools.mergePdf.descriptionLong">여러 PDF 파일을 하나로 합칩니다. 순서를 드래그로 변경할 수 있습니다.</p>
      </div>

      <div class="card">
        <!-- Drop Zone -->
        <div id="drop-zone" class="drop-zone mb-6">
          <input type="file" id="file-input" accept=".pdf" multiple class="hidden" disabled>
          <svg class="w-12 h-12 mx-auto mb-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
          </svg>
          <p class="text-gray-600 dark:text-gray-400 mb-2" data-i18n="tools.mergePdf.dropHere">PDF 파일을 드래그하거나 클릭하여 선택</p>
          <p class="text-sm text-gray-500" data-i18n="tools.mergePdf.multipleFiles">여러 파일 선택 가능</p>
          <p id="loading-text" class="text-sm text-blue-500 mt-2">라이브러리 로딩 중...</p>
        </div>

        <!-- File List -->
        <div id="file-list" class="space-y-2 mb-6 hidden">
          <div class="flex items-center justify-between mb-2">
            <h3 class="font-medium text-gray-900 dark:text-white" data-i18n="tools.mergePdf.selectedFiles">선택된 파일</h3>
            <button id="add-more" class="text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400" disabled data-i18n="tools.mergePdf.addMore">+ 파일 추가</button>
          </div>
          <div id="files-container" class="space-y-2"></div>
        </div>

        <!-- Merge Button -->
        <button id="merge-btn" class="btn btn-primary w-full" disabled data-i18n="tools.mergePdf.merge">PDF 병합하기</button>

        <!-- Result Section -->
        <div id="result-section" class="hidden mt-6">
          <div class="bg-green-50 dark:bg-green-900/20 rounded-xl p-6 text-center mb-4">
            <svg class="w-16 h-16 mx-auto mb-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">병합 완료!</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400"><span id="result-pages">0</span>페이지, <span id="result-size">0</span></p>
          </div>
          <div class="flex gap-3">
            <button id="download-btn" class="btn btn-primary flex-1">다운로드</button>
            <button id="new-btn" class="btn btn-secondary flex-1">새로 병합하기</button>
          </div>
        </div>
      </div>

      <!-- FAQ Section -->
      <section class="mt-8 bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700">
        <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4" data-i18n="tools.mergePdf.faqTitle">PDF 병합이란?</h2>
        <div class="prose prose-gray dark:prose-invert max-w-none text-sm">
          <p class="text-gray-600 dark:text-gray-400 mb-4" data-i18n="tools.mergePdf.faqDesc">
            PDF 병합은 여러 개의 PDF 파일을 하나의 파일로 합치는 것입니다. 계약서, 보고서, 스캔 문서 등을 하나로 정리할 때 유용합니다.
          </p>
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white mt-6 mb-3" data-i18n="tools.mergePdf.howToUse">사용 방법</h3>
          <ol class="list-decimal list-inside space-y-2 text-gray-600 dark:text-gray-400 mb-4">
            <li data-i18n="tools.mergePdf.step1">PDF 파일을 드래그하거나 클릭하여 업로드합니다</li>
            <li data-i18n="tools.mergePdf.step2">파일을 드래그하여 원하는 순서로 정렬합니다</li>
            <li data-i18n="tools.mergePdf.step3">'PDF 병합하기' 버튼을 클릭합니다</li>
            <li data-i18n="tools.mergePdf.step4">병합된 PDF가 자동으로 다운로드됩니다</li>
          </ol>
          <p class="text-gray-600 dark:text-gray-400" data-i18n="tools.mergePdf.privacyNote">모든 처리는 브라우저에서 이루어지며 파일이 서버로 전송되지 않습니다.</p>
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white mt-6 mb-3">자주 묻는 질문</h3>
          <div class="space-y-4">
            <div>
              <h4 class="font-medium text-gray-900 dark:text-white">Q: 병합할 수 있는 파일 개수에 제한이 있나요?</h4>
              <p class="text-gray-600 dark:text-gray-400">기술적 제한은 없지만, 브라우저 메모리 한계로 인해 총 용량이 약 100MB를 넘으면 처리가 느려질 수 있습니다. 대용량 파일은 나눠서 작업하는 것을 권장합니다.</p>
            </div>
            <div>
              <h4 class="font-medium text-gray-900 dark:text-white">Q: 파일 순서를 변경할 수 있나요?</h4>
              <p class="text-gray-600 dark:text-gray-400">네, 업로드 후 파일을 드래그하여 원하는 순서로 재배열할 수 있습니다. 정렬된 순서대로 PDF가 병합됩니다.</p>
            </div>
            <div>
              <h4 class="font-medium text-gray-900 dark:text-white">Q: 병합 후 원본 파일의 품질이 유지되나요?</h4>
              <p class="text-gray-600 dark:text-gray-400">네, 원본 PDF의 텍스트, 이미지, 벡터 그래픽 등 모든 요소가 그대로 유지됩니다. 재압축이나 품질 저하 없이 병합됩니다.</p>
            </div>
            <div>
              <h4 class="font-medium text-gray-900 dark:text-white">Q: 암호가 걸린 PDF도 병합할 수 있나요?</h4>
              <p class="text-gray-600 dark:text-gray-400">암호로 보호된 PDF는 병합할 수 없습니다. 먼저 PDF 암호를 해제한 후 시도해 주세요.</p>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>
  <div id="footer"></div>

  <!-- Loading Overlay -->
  <div id="loading-overlay" class="loading-overlay">
    <div class="bg-white dark:bg-gray-800 rounded-2xl p-8 text-center">
      <div class="spinner mx-auto mb-4"></div>
      <p class="text-gray-600 dark:text-gray-400" data-i18n="tools.mergePdf.merging">PDF 병합 중...</p>
    </div>
  </div>

  <script>
    (function() {
      'use strict';

      const dropZone = document.getElementById('drop-zone');
      const fileInput = document.getElementById('file-input');
      const fileList = document.getElementById('file-list');
      const filesContainer = document.getElementById('files-container');
      const mergeBtn = document.getElementById('merge-btn');
      const addMoreBtn = document.getElementById('add-more');
      const loadingOverlay = document.getElementById('loading-overlay');
      const loadingText = document.getElementById('loading-text');
      const resultSection = document.getElementById('result-section');
      const resultPages = document.getElementById('result-pages');
      const resultSize = document.getElementById('result-size');

      let pdfFiles = [];
      let libReady = false;
      let mergedBlob = null;

      // Check if pdf-lib is loaded
      function checkLibrary() {
        if (typeof PDFLib !== 'undefined') {
          libReady = true;
          fileInput.disabled = false;
          addMoreBtn.disabled = false;
          loadingText.classList.add('hidden');
          toast.success('PDF 도구 준비 완료!');
        } else {
          setTimeout(checkLibrary, 100);
        }
      }
      checkLibrary();

      // Drop zone events
      dropZone.addEventListener('click', () => {
        if (libReady) fileInput.click();
      });

      dropZone.addEventListener('dragover', (e) => {
        e.preventDefault();
        if (libReady) dropZone.classList.add('drag-over');
      });

      dropZone.addEventListener('dragleave', () => {
        dropZone.classList.remove('drag-over');
      });

      dropZone.addEventListener('drop', (e) => {
        e.preventDefault();
        dropZone.classList.remove('drag-over');
        if (!libReady) return;
        const files = Array.from(e.dataTransfer.files).filter(f => f.type === 'application/pdf');
        addFiles(files);
      });

      fileInput.addEventListener('change', (e) => {
        addFiles(Array.from(e.target.files));
        fileInput.value = '';
      });

      addMoreBtn.addEventListener('click', () => {
        if (libReady) fileInput.click();
      });

      function addFiles(files) {
        if (files.length === 0) {
          toast.warning('PDF 파일만 선택할 수 있습니다.');
          return;
        }
        pdfFiles = [...pdfFiles, ...files];
        renderFileList();
      }

      function renderFileList() {
        if (pdfFiles.length === 0) {
          fileList.classList.add('hidden');
          mergeBtn.disabled = true;
          return;
        }

        fileList.classList.remove('hidden');
        mergeBtn.disabled = pdfFiles.length < 2;

        filesContainer.innerHTML = pdfFiles.map((file, index) => `
          <div class="file-item" draggable="true" data-index="${index}">
            <svg class="w-5 h-5 text-gray-400 cursor-grab" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"/>
            </svg>
            <svg class="w-8 h-8 text-red-500" fill="currentColor" viewBox="0 0 24 24">
              <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6zm-1 2l5 5h-5V4zm-3 9h4v1h-4v-1zm0 2h4v1h-4v-1zm-2-2h1v4H8v-4z"/>
            </svg>
            <div class="flex-1 min-w-0">
              <p class="text-sm font-medium text-gray-900 dark:text-white truncate">${file.name}</p>
              <p class="text-xs text-gray-500">${formatSize(file.size)}</p>
            </div>
            <button class="remove-btn p-1 text-gray-400 hover:text-red-500" data-index="${index}">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
              </svg>
            </button>
          </div>
        `).join('');

        // Add drag events
        setupDragAndDrop();

        // Add remove events
        filesContainer.querySelectorAll('.remove-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const index = parseInt(e.currentTarget.dataset.index);
            pdfFiles.splice(index, 1);
            renderFileList();
          });
        });
      }

      function setupDragAndDrop() {
        const items = filesContainer.querySelectorAll('.file-item');
        let draggedItem = null;

        items.forEach(item => {
          item.addEventListener('dragstart', (e) => {
            draggedItem = item;
            item.classList.add('dragging');
          });

          item.addEventListener('dragend', () => {
            item.classList.remove('dragging');
            items.forEach(i => i.classList.remove('drag-over'));
          });

          item.addEventListener('dragover', (e) => {
            e.preventDefault();
            if (item !== draggedItem) {
              item.classList.add('drag-over');
            }
          });

          item.addEventListener('dragleave', () => {
            item.classList.remove('drag-over');
          });

          item.addEventListener('drop', (e) => {
            e.preventDefault();
            item.classList.remove('drag-over');
            if (item !== draggedItem) {
              const fromIndex = parseInt(draggedItem.dataset.index);
              const toIndex = parseInt(item.dataset.index);
              const [moved] = pdfFiles.splice(fromIndex, 1);
              pdfFiles.splice(toIndex, 0, moved);
              renderFileList();
            }
          });
        });
      }

      function formatSize(bytes) {
        if (bytes < 1024) return bytes + ' B';
        if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
        return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
      }

      // Merge PDFs
      mergeBtn.addEventListener('click', async () => {
        if (pdfFiles.length < 2 || !libReady) return;

        loadingOverlay.classList.add('show');

        try {
          const { PDFDocument } = PDFLib;
          const mergedPdf = await PDFDocument.create();

          for (const file of pdfFiles) {
            const arrayBuffer = await file.arrayBuffer();
            const pdf = await PDFDocument.load(arrayBuffer);
            const pages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());
            pages.forEach(page => mergedPdf.addPage(page));
          }

          const mergedBytes = await mergedPdf.save();
          mergedBlob = new Blob([mergedBytes], { type: 'application/pdf' });

          // Show result
          resultPages.textContent = mergedPdf.getPageCount();
          resultSize.textContent = formatSize(mergedBlob.size);
          dropZone.classList.add('hidden');
          fileList.classList.add('hidden');
          mergeBtn.classList.add('hidden');
          resultSection.classList.remove('hidden');
          toast.success('PDF 병합 완료!');
        } catch (error) {
          console.error(error);
          toast.error('PDF 병합 중 오류가 발생했습니다.');
        } finally {
          loadingOverlay.classList.remove('show');
        }
      });

      // Download button
      document.getElementById('download-btn').addEventListener('click', () => {
        if (!mergedBlob) return;
        const url = URL.createObjectURL(mergedBlob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'merged.pdf';
        a.click();
        URL.revokeObjectURL(url);
      });

      // New merge button
      document.getElementById('new-btn').addEventListener('click', () => {
        pdfFiles = [];
        mergedBlob = null;
        dropZone.classList.remove('hidden');
        fileList.classList.add('hidden');
        mergeBtn.classList.remove('hidden');
        mergeBtn.disabled = true;
        resultSection.classList.add('hidden');
      });
    })();
  </script>
</body>
</html>
